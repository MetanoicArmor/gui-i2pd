#!/bin/bash

echo "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ I2P Daemon GUI"
echo "=============================="

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –¥–µ–º–æ–Ω—ã
echo "1. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–µ–º–æ–Ω—ã..."
killall i2pd 2>/dev/null || echo "   –î–µ–º–æ–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"

# –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ñ–∏–≥
echo "2. –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ñ–∏–≥..."
rm -rf ~/.i2pd

# –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
echo "3. –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ..."
open I2P-GUI.app

# –ñ–¥–µ–º
echo "4. –û–∂–∏–¥–∞–Ω–∏–µ (10 —Å–µ–∫—É–Ω–¥)..."
sleep 10

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
echo "5. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å:"
echo "   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: $(pgrep -f 'I2P-GUI' > /dev/null && echo '‚úÖ –ó–∞–ø—É—â–µ–Ω–æ' || echo '‚ùå –ù–µ –∑–∞–ø—É—â–µ–Ω–æ')"
echo "   - –î–µ–º–æ–Ω: $(pgrep i2pd > /dev/null && echo '‚úÖ –ó–∞–ø—É—â–µ–Ω' || echo '‚ùå –ù–µ –∑–∞–ø—É—â–µ–Ω')"

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å
echo "6. –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å..."
if curl -s http://127.0.0.1:7070 > /dev/null 2>&1; then
    echo "   ‚úÖ –í–µ–±-–∫–æ–Ω—Å–æ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞"
else
    echo "   ‚ùå –í–µ–±-–∫–æ–Ω—Å–æ–ª—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞"
fi

echo ""
echo "–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω!"

