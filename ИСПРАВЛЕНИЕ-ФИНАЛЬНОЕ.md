# ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ daemon –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:**
```
args: unrecognised option '--kill'
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ë–∏–Ω–∞—Ä–Ω–∏–∫ i2pd –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø—Ü–∏—é `--kill`. –ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è: `--daemon` (–∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ)
- ‚ùå –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è: `--kill`, `--stop`, `--quit`

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ daemon**

```swift
private func stopDaemondProcess() {
    // –ü–æ–∏—Å–∫ PID —Ñ–∞–π–ª–∞
    let pidPaths = [
        NSHomeDirectory() + "/i2pd/i2pd.pid",
        "/var/lib/i2pd/i2pd.pid",
        Bundle.main.bundlePath + "/i2pd.pid"
    ]
    
    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SIGTERM –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
    let command = "pkill -TERM i2pd 2>/dev/null && sleep 1 || true"
}
```

### 2. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**

```swift
// –ë—ã–ª–æ: pgrep -f i2pd (–Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ i2pd)
// –°—Ç–∞–ª–æ: pgrep -x i2pd (–Ω–∞—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å —Å –∏–º–µ–Ω–µ–º i2pd)
checkProcess.arguments = ["-c", "pgrep -x i2pd"]
```

### 3. **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ü–æ–∏—Å–∫ PID —Ñ–∞–π–ª–∞
- –ü—É—Ç—å –∫ –Ω–∞–π–¥–µ–Ω–Ω–æ–º—É –±–∏–Ω–∞—Ä–Ω–∏–∫—É  
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–º–∞–Ω–¥ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤

## üéØ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### ‚úÖ –†–∞–±–æ—á–∏–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
# –ó–∞–ø—É—Å–∫ daemon
./i2pd-gui/i2pd --daemon

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
pgrep -x i2pd

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ daemon
pkill -TERM i2pd
```

### ‚ùå –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
./i2pd-gui/i2pd --kill    # –û—à–∏–±–∫–∞: unrecognised option
./i2pd-gui/i2pd --stop    # –û—à–∏–±–∫–∞: unrecognised option
./i2pd-gui/i2pd --quit    # –û—à–∏–±–∫–∞: unrecognised option
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:**
- ‚úÖ GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `i2pd-gui` –∑–∞–ø—É—â–µ–Ω–æ (PID: 17919)
- ‚ùå Daemon `i2pd` –ù–ï –∑–∞–ø—É—â–µ–Ω (–∫–æ–º–∞–Ω–¥–∞ `pgrep -x i2pd` –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç)
- ‚úÖ –ë–∏–Ω–∞—Ä–Ω–∏–∫ `i2pd` –Ω–∞–π–¥–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

**–í Xcode:**
1. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç: ‚åò+B
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: ‚åò+R  
3. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å" –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ i2pd daemon
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å" –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

**Swift Package Manager:**
```bash
swift build
swift run
```

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å

- ‚úÖ **–û—à–∏–±–∫–∞ `--kill` –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞**
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞–Ω–æ–≤–∫–∏**  
- ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ daemon**
- ‚úÖ **–ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫**
- ‚úÖ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ**

–¢–µ–ø–µ—Ä—å –∫–Ω–æ–ø–∫–∞ "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å" –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å i2pd daemon! üéâ
